<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8">
<title>JUSTME</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />



    <meta property="og:type" content="website">
<meta property="og:title" content="JUSTME">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="JUSTME">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta property="article:author" content="JUSTME">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/monokai-sublime.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">
<meta name="generator" content="Hexo 5.4.2"></head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="JUSTME" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">主页</a>
                
                <a class="navbar-item"
                href="/archives">归档</a>
                
                <a class="navbar-item"
                href="/categories">分类</a>
                
                <a class="navbar-item"
                href="/tags">标签</a>
                
                <a class="navbar-item"
                href="/about">关于</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2022-02-21T03:08:01.000Z">2022-02-21</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    几秒 读完 (大约 1 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-medium">
            
                <a class="has-link-black-ter" href="/2022/02/21/cmake-make/">cmake&amp;make</a>
            
        </h1>
        <div class="content">
            <html><head></head><body><span id="more"></span>

</body></html>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2022-02-18T05:35:21.000Z">2022-02-18</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 分钟 读完 (大约 674 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-medium">
            
                <a class="has-link-black-ter" href="/2022/02/18/%E4%B8%AD%E6%96%AD-%E5%BC%82%E5%B8%B8-%E9%99%B7%E9%98%B1/">中断 异常 陷阱</a>
            
        </h1>
        <div class="content">
            <html><head></head><body><p><a target="_blank" rel="noopener" href="https://www.crifan.com/files/doc/docbook/interrupt_related/release/htmls/index.html">https://www.crifan.com/files/doc/docbook/interrupt_related/release/htmls/index.html</a></p></body></html>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2022/02/18/%E4%B8%AD%E6%96%AD-%E5%BC%82%E5%B8%B8-%E9%99%B7%E9%98%B1/#more">阅读更多</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2022-01-21T08:54:34.000Z">2022-01-21</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    9 分钟 读完 (大约 1334 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-medium">
            
                <a class="has-link-black-ter" href="/2022/01/21/rpc%E6%A1%86%E6%9E%B6/">rpc框架</a>
            
        </h1>
        <div class="content">
            <html><head></head><body><span id="more"></span>

<h2 id="RPC"><a href="#RPC" class="headerlink" title="RPC"></a>RPC</h2><p>一次RPC调用的流程：</p>
<p>客户端将调用的类名，方法名，参数名，参数值等信息，序列化成二进制流</p>
<p>客户端将二进制流，通过网络发送给服务端</p>
<p>服务端收到二进制流后，进行反序列化，得到要调用的类名，方法名，参数名和参数值，再通过动态代理的方式，调用对应的方法得到返回值</p>
<p>服务端将返回值序列化，再通过网络发送给客户端</p>
<p>客户端反序列化，得到调用结果。</p>
<h3 id="RPC的组成"><a href="#RPC的组成" class="headerlink" title="RPC的组成"></a>RPC的组成</h3><p>网络通信框架、网络传输协议（序列化）、服务注册和服务发现</p>
<p><img src="/2022/01/21/rpc%E6%A1%86%E6%9E%B6/image-20220329223338383.png" alt="image-20220329223338383"></p>
<p>服务启动时，服务提供者向注册中心注册服务，暴露自己的地址和端口号。注册中心会更新服务列表。</p>
<p>消费者启动时向注册中心请求可用的服务地址，并在本地缓存一份。</p>
<p>为什么要有服务注册和服务发现：方便业务水平扩展，添加新的业务只需要向注册中心注册即可。</p>
<p>比如etcd就可以用于服务注册和服务发现。</p>
<h3 id="RPC的性能"><a href="#RPC的性能" class="headerlink" title="RPC的性能"></a>RPC的性能</h3><p>RPC的性能取决与网络传输和反序列化</p>
<h4 id="网络传输性能"><a href="#网络传输性能" class="headerlink" title="网络传输性能"></a>网络传输性能</h4><p>选择一个高性能的IO模型，及选择IO多路复用。</p>
<p>网络参数调优，比如开启tcp_nodelay，及关闭nagle算法。</p>
<h4 id="序列化方法"><a href="#序列化方法" class="headerlink" title="序列化方法"></a>序列化方法</h4><p>序列化要考虑性能，时间和空间开销</p>
<p>再考虑跨平台，跨语言。</p>
<p>对性能要求不高，就json</p>
<p>有性能要求就protobuf</p>
<h2 id="brpc文档阅读"><a href="#brpc文档阅读" class="headerlink" title="brpc文档阅读"></a>brpc文档阅读</h2><h3 id="原子指令"><a href="#原子指令" class="headerlink" title="原子指令"></a>原子指令</h3><blockquote>
<p> c++ 11中引入了原子指令</p>
</blockquote>
<h4 id="原子指令的作用"><a href="#原子指令的作用" class="headerlink" title="原子指令的作用"></a>原子指令的作用</h4><p>为了避免锁成为性能瓶颈。</p>
<p>为了wait-free和lock-free</p>
<table>
<thead>
<tr>
<th>原子指令 (x均为std::atomic)</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td>x.load()</td>
<td align="left">返回x的值。</td>
</tr>
<tr>
<td>x.store(n)</td>
<td align="left">把x设为n，什么都不返回。</td>
</tr>
<tr>
<td>x.exchange(n)</td>
<td align="left">把x设为n，返回设定之前的值。</td>
</tr>
<tr>
<td>x.compare_exchange_strong(expected_ref, desired)</td>
<td align="left">若x等于expected_ref，则设为desired，返回成功；否则把最新值写入expected_ref，返回失败。</td>
</tr>
<tr>
<td>x.compare_exchange_weak(expected_ref, desired)</td>
<td align="left">相比compare_exchange_strong可能有<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Spurious_wakeup">spurious wakeup</a>。</td>
</tr>
<tr>
<td>x.fetch_add(n), x.fetch_sub(n)</td>
<td align="left">原子地做x += n, x-= n，返回修改之前的值。</td>
</tr>
</tbody></table>
<h4 id="原子指令存在的问题"><a href="#原子指令存在的问题" class="headerlink" title="原子指令存在的问题"></a>原子指令存在的问题</h4><h5 id="ABA问题"><a href="#ABA问题" class="headerlink" title="ABA问题"></a>ABA问题</h5><p>一个线程把数据A变为了B，然后又重新变成了A。</p>
<p>解决方法：加入版本号</p>
<h5 id="memory-fence"><a href="#memory-fence" class="headerlink" title="memory fence"></a>memory fence</h5><p>指令重排问题。</p>
<h5 id="cacheline同步"><a href="#cacheline同步" class="headerlink" title="cacheline同步"></a>cacheline同步</h5><p>缓存一致性使得对cache中的更改必须同步到其他cache副本中，且这个过程是原子的，造成原子指令需要等待最新的cacheline。</p>
<p>解决方法：</p>
<ul>
<li>尽量避免共享，MPMC该SPSC</li>
<li>使用tls，比如所有线程修改一个计数器，性能很慢，因为多核在同步cacheline，因此可以改用tls，需要时再合并</li>
</ul>
<h5 id="false-sharing"><a href="#false-sharing" class="headerlink" title="false sharing"></a>false sharing</h5><p>位于同一个cacheline中的变量可能自身不变，而其他变量频繁改变，同样要等待cacheline同步，因此频繁被多线程修改的变量应该放在独立的cacheline中。</p>
<h3 id="雪崩"><a href="#雪崩" class="headerlink" title="雪崩"></a>雪崩</h3><p>雪崩指流量过大造成请求超时，<strong>且流量减少后仍无法恢复的现象</strong>。</p>
<p>雪崩式多服务才会发生的。比如请求访问A服务，A服务又访问了B服务，这时B被打满请求，正常情况下还是不会雪崩的，但是有例外：</p>
<ul>
<li><p>流量放大，A可能对B发起了过于频繁的基于超时的重试，造成了恶性循环：B无法恢复-&gt;A超时-&gt;A继续重试-&gt;B无法恢复</p>
<ul>
<li>解决：重试只在连接出错时发起</li>
</ul>
</li>
<li><p>A或B没限制缓冲队列的长度</p>
<ul>
<li>设置最大并发max_concurrency，防止请求积压。</li>
<li><strong>最大qps * 非拥塞时的延时</strong>来评估最大并发（little’s law）</li>
</ul>
</li>
</ul>
<h3 id="一致性哈希"><a href="#一致性哈希" class="headerlink" title="一致性哈希"></a>一致性哈希</h3><p>一些场景，我们希望同样的请求落到一台服务器上，这样可以利用缓存，不同的机器也不用缓存所有内容。hash可以满足这个要求：输入x总是会发送到第hash(x) % n的服务器。但是有个缺点，m增加时，之前的发送目的地会变，如果目的地时缓存服务，所有缓存就会失效。</p>
<p>一致性哈希解决了这个问题，新增加服务器时，发向旧节点的请求只会有一部分转向新节点。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>文档： <a target="_blank" rel="noopener" href="https://brpc.apache.org/zh/docs/">https://brpc.apache.org/zh/docs/</a></p>
</body></html>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2022-01-13T07:22:03.000Z">2022-01-13</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    16 分钟 读完 (大约 2358 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-medium">
            
                <a class="has-link-black-ter" href="/2022/01/13/KML%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/">KML论文阅读</a>
            
        </h1>
        <div class="content">
            <html><head></head><body><p>KML: Using Machine Learning to Improve Storage Systems</p>
<p><a target="_blank" rel="noopener" href="https://github.com/sbu-fsl/kernel-ml">https://github.com/sbu-fsl/kernel-ml</a></p></body></html>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2022/01/13/KML%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/#more">阅读更多</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2022-01-07T08:42:59.000Z">2022-01-07</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 分钟 读完 (大约 951 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-medium">
            
                <a class="has-link-black-ter" href="/2022/01/07/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%A5%E5%B8%B8%E8%BF%90%E7%BB%B4/">实验室服务器日常运维</a>
            
        </h1>
        <div class="content">
            <html><head></head><body><span id="more"></span>

<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h4 id="添加新用户"><a href="#添加新用户" class="headerlink" title="添加新用户"></a>添加新用户</h4><figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adduser username</span><br></pre></td></tr></tbody></table></figure>

<p>adduser和useradd的区别是adduser会在/home下创建同名目录，也会设置密码，设置shell，用adduser就可以。</p>
<h3 id="添加到sudo用户组"><a href="#添加到sudo用户组" class="headerlink" title="添加到sudo用户组"></a>添加到sudo用户组</h3><figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -aG sudo username</span><br></pre></td></tr></tbody></table></figure>

<h2 id="文件备份"><a href="#文件备份" class="headerlink" title="文件备份"></a>文件备份</h2><figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync</span><br></pre></td></tr></tbody></table></figure>

<h2 id="安全防护"><a href="#安全防护" class="headerlink" title="安全防护"></a>安全防护</h2><h3 id="禁用密码登录使用密钥"><a href="#禁用密码登录使用密钥" class="headerlink" title="禁用密码登录使用密钥"></a>禁用密码登录使用密钥</h3><figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br><span class="line"><span class="meta prompt_">#</span><span class="hljs-language-bash">回车即可</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="hljs-language-bash">会在.ssh下生成一个公钥一个私钥</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="hljs-language-bash">将私钥拷贝到自己主机上</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="hljs-language-bash">在服务器上安装公钥</span></span><br><span class="line">cat id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line">chmod 600 authorized_keys</span><br></pre></td></tr></tbody></table></figure>

<p>配置SSH</p>
<p>打开<code>/etc/ssh/sshd_config</code>文件设置</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Port XXXX#修改默认端口号</span><br><span class="line">RSAAuthentication yes</span><br><span class="line">PubkeyAuthentication yes</span><br><span class="line">PasswordAuthentication no</span><br></pre></td></tr></tbody></table></figure>

<p>然后重启SSH</p>
<p><code>service sshd restart</code></p>
<p>本地使用私钥登录</p>
<p><img src="/2022/01/07/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%A5%E5%B8%B8%E8%BF%90%E7%BB%B4/image-20220108225922977.png" alt="image-20220108225922977"></p>
<h3 id="fail2ban"><a href="#fail2ban" class="headerlink" title="fail2ban"></a>fail2ban</h3><p>使用密钥登录这个就用不到了</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install fail2ban</span><br><span class="line">sudo cp /etc/fail2ban/jail.{conf,local}</span><br><span class="line">sudo fail2ban-client status sshd #查看fail2ban日志</span><br></pre></td></tr></tbody></table></figure>

<h2 id="炼丹环境"><a href="#炼丹环境" class="headerlink" title="炼丹环境"></a>炼丹环境</h2><h3 id="安装驱动"><a href="#安装驱动" class="headerlink" title="安装驱动"></a>安装驱动</h3><p>选择自己的显卡型号，系统</p>
<p><a target="_blank" rel="noopener" href="https://www.nvidia.cn/Download/index.aspx?lang=cn">https://www.nvidia.cn/Download/index.aspx?lang=cn</a></p>
<p><code>wget url</code>下载<code>NVIDIA-Linux-x86_64-xx.xx.run</code>驱动</p>
<h2 id="魔法搭建"><a href="#魔法搭建" class="headerlink" title="魔法搭建"></a>魔法搭建</h2><p>不少机场都是给一个订阅url，然而v2ray命令行版并不支持订阅，需要解析工具：<a target="_blank" rel="noopener" href="https://github.com/arkrz/v2sub">https://github.com/arkrz/v2sub</a></p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="hljs-language-bash">因 ping 与 服务重启 权限需要，以 root 权限运行:</span></span><br><span class="line">sudo v2sub</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="hljs-language-bash">快速切换节点：</span></span><br><span class="line">sudo v2sub -q</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="hljs-language-bash">允许监听外部连接：</span></span><br><span class="line">sudo v2sub -wan</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="hljs-language-bash">修改监听端口：</span></span><br><span class="line">sudo v2sub -http 7890 -socks 7891</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="hljs-language-bash">更多帮助：</span></span><br><span class="line">v2sub -help</span><br></pre></td></tr></tbody></table></figure>

<p>vmess可以直接用下面脚本转json</p>
<p><a target="_blank" rel="noopener" href="https://github.com/boypt/vmess2json">https://github.com/boypt/vmess2json</a></p>
<h3 id="v2ray安装"><a href="#v2ray安装" class="headerlink" title="v2ray安装"></a>v2ray安装</h3><p>没梯子的话安装脚本大概率下载不了，自己下载预编译文件后传到服务器上，把文件copy到对应文件夹</p>
<p><a target="_blank" rel="noopener" href="https://github.com/v2fly/v2ray-core/releases">https://github.com/v2fly/v2ray-core/releases</a></p>
<p><img src="/2022/01/07/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%97%A5%E5%B8%B8%E8%BF%90%E7%BB%B4/image-20220111165926317.png" alt="image-20220111165926317"></p>
<p>安装v2gen，生成config,默认端口号是1080和1081，需要在</p>
<p><a target="_blank" rel="noopener" href="https://github.com/teasiu/v2gen/blob/main/README_zh_cn.md">https://github.com/teasiu/v2gen/blob/main/README_zh_cn.md</a></p>
<h2 id="开启samba服务"><a href="#开启samba服务" class="headerlink" title="开启samba服务"></a>开启samba服务</h2><figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install samba</span><br><span class="line">sudo useradd sambauser</span><br><span class="line">sudo smbpasswd -a sambauser</span><br></pre></td></tr></tbody></table></figure>

<p>编辑/etc/samba/smb.config</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[shareFold]              #共享文件夹名称</span><br><span class="line">        comment = 共享文件说明摘要 #comment是对该共享的描述，可以是任意字符串</span><br><span class="line">        path = home/shareFold     #共享文件夹路径</span><br><span class="line">        writable = yes    #用户是否可写入，此处的值千万不能写错，如果写成Yes，则会报错，samba服务启动会失败</span><br><span class="line">        valid users = user1,user2  #此处的user1为上一步中使用adduser创建的用户名，不同用户名之间用逗号隔开</span><br><span class="line">        browseable = yes   #用户是否可浏览目录</span><br><span class="line">        guest ok = no      #是否可以随意访问</span><br><span class="line">        directory mask = 1777  #上传的目录具有所有权限</span><br></pre></td></tr></tbody></table></figure>

<p>常用命令：</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pdbedit -L            #列出samba用户</span><br><span class="line">pdbedit -Lv           #详细列出samba用户信息</span><br><span class="line">systemctl enable smb  #设置开机启动samba服务</span><br><span class="line">pdbedit -x username   #删除samba账号</span><br></pre></td></tr></tbody></table></figure>

<h2 id="autossh内网穿透"><a href="#autossh内网穿透" class="headerlink" title="autossh内网穿透"></a>autossh内网穿透</h2><p>公网机器上需要在<code>ect/ssh/sshd_config</code>下修改<br><code>GatewayPorts yes</code><br>然后sudo service sshd restart<br>内网机器：</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">autossh -p 公网ssh端口号 -M 本地监听端口号 -NR '*:对外端口号:localhost:本地ssh端口号' 公网username@公网ip</span><br><span class="line">autossh -p 2333 -M 27400 -NR '*:2334:localhost:22' xxx@xxx</span><br></pre></td></tr></tbody></table></figure>
<p>内网机器添加service</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Auto SSH Tunnel</span><br><span class="line">After=network-online.target</span><br><span class="line">[Service]</span><br><span class="line">User=root</span><br><span class="line">ExecStart=/usr/bin/autossh -p 2333 -M 27400 -NR '*:2334:localhost:22' xxx@xxxx -i ~/.ssh/id_rsa_cloud -o TCPKeepAlive=yes -o ServerAliveInterval=30</span><br><span class="line">ExecReload=/bin/kill -HUP $MAINPID</span><br><span class="line">Restart=on-failure</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">WantedBy=graphical.target</span><br></pre></td></tr></tbody></table></figure>
<p>id_rsa_cloud生成：<br>ssh-keygen<br>ssh-copy-id -p port 公网主机username@ip</p>
<p>注意公网机器的端口是否开放</p>
<h2 id="zerotier"><a href="#zerotier" class="headerlink" title="zerotier"></a>zerotier</h2><p>1、在线安装zerotier<br>curl -s <a target="_blank" rel="noopener" href="https://install.zerotier.com/">https://install.zerotier.com/</a> | sudo bash</p>
<p>2、添加开机自启</p>
<p>$ sudo systemctl enable zerotier-one.service</p>
<p>3、启动zerotier-one.service</p>
<p>$ sudo systemctl start zerotier-one.service</p>
<p>4、加入网络</p>
<p>$ sudo zerotier-cli join xxxxxxx</p>
<h2 id="cgroup"><a href="#cgroup" class="headerlink" title="cgroup"></a>cgroup</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41855380/article/details/109553353">https://blog.csdn.net/weixin_41855380/article/details/109553353</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/5edb9f4e4c94">https://www.jianshu.com/p/5edb9f4e4c94</a></p>
</body></html>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2021-11-29T07:36:41.000Z">2021-11-29</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    28 分钟 读完 (大约 4256 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-medium">
            
                <a class="has-link-black-ter" href="/2021/11/29/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/">算法设计与分析</a>
            
        </h1>
        <div class="content">
            <html><head></head><body><p>复习大纲</p></body></html>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2021/11/29/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/#more">阅读更多</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2021-11-26T03:27:41.000Z">2021-11-26</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 分钟 读完 (大约 586 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-medium">
            
                <a class="has-link-black-ter" href="/2021/11/26/%E4%BF%A1%E5%8F%B7%E9%87%8F%E3%80%81%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F%E3%80%81%E7%AE%A1%E7%A8%8B/">信号量、条件变量、管程</a>
            
        </h1>
        <div class="content">
            <html><head></head><body><span id="more"></span>

<h2 id="条件变量"><a href="#条件变量" class="headerlink" title="条件变量"></a>条件变量</h2><figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//基本用法</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;condition_variable&gt;</span></span></span><br><span class="line">std::condition_variable cond_;</span><br><span class="line">std::unique_lock &lt;std::mutex&gt; <span class="hljs-built_in">lock</span>(mutex_);</span><br><span class="line">cond_.<span class="hljs-built_in">wait</span>(lock);</span><br><span class="line">cond_.<span class="hljs-built_in">notify_all</span>();</span><br><span class="line">cond_.<span class="hljs-built_in">notify_one</span>();</span><br></pre></td></tr></tbody></table></figure>

<h2 id="管程"><a href="#管程" class="headerlink" title="管程"></a>管程</h2><blockquote>
<p>管程用来管理类额成员变量和成员方法，让这个类是线程安全的。下面以阻塞队列的实现为例</p>
<p>管程解决了并发编程中的俩个核心问题：互斥，同步</p>
</blockquote>
<ul>
<li>互斥：同一时刻只允许一个线程访问共享资源</li>
<li>同步：线程之间的通信，协作</li>
<li>管程如何解决互斥问题：mutex，将共享变量和对共享变量的操作同一封装了起来，互斥锁就是管程模型的入口</li>
<li>管程如何解决同步问题：引入条件变量</li>
</ul>
<p><img src="/2021/11/26/%E4%BF%A1%E5%8F%B7%E9%87%8F%E3%80%81%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F%E3%80%81%E7%AE%A1%E7%A8%8B/image-20211126140601481.png" alt="image-20211126140601481"></p>
<h3 id="阻塞队列"><a href="#阻塞队列" class="headerlink" title="阻塞队列"></a>阻塞队列</h3><p>首先是一个队列，有插入和删除操作。当队列中没有元素时，弹出操作将会被阻塞，直到有元素被插入时才会被唤醒。队列满时，队列的插入操作被阻塞，直到有元素被弹出后才会被唤醒。</p>
<p>阻塞队列的应用：在线程池实现中，使用阻塞队列来保存任务，直到线程空闲之后从阻塞队列弹出任务来执行。一旦队列为空，线程就会被阻塞，直到有新任务被插入为止。</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> D = std::deque&lt;T&gt; &gt;</span><br><span class="line"><span class="hljs-keyword">class</span> ThreadQueue {</span><br><span class="line"> <span class="hljs-keyword">public</span>:</span><br><span class="line">  <span class="hljs-keyword">typedef</span> D queue_type;</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">pop_front</span><span class="hljs-params">(T&amp; t, <span class="hljs-type">size_t</span> millsecond)</span></span>;</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push_back</span><span class="hljs-params">(T&amp; t)</span></span>;</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push_front</span><span class="hljs-params">(T&amp; t)</span></span>;</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(queue_type&amp; q)</span></span>;</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span>;</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span></span>;</span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">begin</span><span class="hljs-params">()</span></span>;</span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">end</span><span class="hljs-params">()</span></span>;</span><br><span class="line"></span><br><span class="line"> <span class="hljs-keyword">protected</span>:</span><br><span class="line">  queue_type queue_;</span><br><span class="line">  <span class="hljs-type">size_t</span> size_;</span><br><span class="line"></span><br><span class="line"> <span class="hljs-keyword">private</span>:</span><br><span class="line">  std::mutex mutex_;</span><br><span class="line">  std::condition_variable cond_;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> D&gt;</span><br><span class="line"><span class="hljs-type">bool</span> ThreadQueue&lt;T, D&gt;::<span class="hljs-built_in">pop_front</span>(T&amp; t, <span class="hljs-type">size_t</span> millsecond) {</span><br><span class="line">  <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;</span><br><span class="line">  <span class="hljs-keyword">while</span> (queue_.<span class="hljs-built_in">empty</span>()) {  <span class="hljs-comment">//为什么if不行？</span></span><br><span class="line">    cond_.<span class="hljs-built_in">wait</span>(lock);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="hljs-built_in">assert</span>(!queue_.<span class="hljs-built_in">empty</span>());</span><br><span class="line">  t = queue_.<span class="hljs-built_in">front</span>();</span><br><span class="line">  queue_.<span class="hljs-built_in">pop_front</span>();</span><br><span class="line">  size_--;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> D&gt;</span><br><span class="line"><span class="hljs-type">void</span> ThreadQueue&lt;T, D&gt;::<span class="hljs-built_in">push_back</span>(T&amp; t) {</span><br><span class="line">  <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;</span><br><span class="line">  queue_.<span class="hljs-built_in">push_back</span>(t);</span><br><span class="line">  size_++;</span><br><span class="line">  cond_.<span class="hljs-built_in">notify_one</span>();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> D&gt;</span><br><span class="line"><span class="hljs-type">void</span> ThreadQueue&lt;T, D&gt;::<span class="hljs-built_in">push_front</span>(T&amp; t) {</span><br><span class="line">  <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;</span><br><span class="line">  queue_.<span class="hljs-built_in">push_front</span>(t);</span><br><span class="line">  size_++;</span><br><span class="line">  cond_.<span class="hljs-built_in">notify_one</span>();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> D&gt;</span><br><span class="line"><span class="hljs-type">void</span> ThreadQueue&lt;T, D&gt;::<span class="hljs-built_in">clear</span>() {</span><br><span class="line">  <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;</span><br><span class="line">  queue_.<span class="hljs-built_in">clear</span>();</span><br><span class="line">  size_ = <span class="hljs-number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> D&gt;</span><br><span class="line"><span class="hljs-type">bool</span> ThreadQueue&lt;T, D&gt;::<span class="hljs-built_in">empty</span>() {</span><br><span class="line">  <span class="hljs-keyword">return</span> queue_.<span class="hljs-built_in">empty</span>();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> D&gt;</span><br><span class="line"><span class="hljs-keyword">auto</span> ThreadQueue&lt;T, D&gt;::<span class="hljs-built_in">begin</span>() {</span><br><span class="line">  <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> queue_.<span class="hljs-built_in">begin</span>();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> D&gt;</span><br><span class="line"><span class="hljs-keyword">auto</span> ThreadQueue&lt;T, D&gt;::<span class="hljs-built_in">end</span>() {</span><br><span class="line">  <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;</span><br><span class="line">  <span class="hljs-keyword">return</span> queue_.<span class="hljs-built_in">end</span>();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> D&gt;</span><br><span class="line"><span class="hljs-type">void</span> ThreadQueue&lt;T, D&gt;::<span class="hljs-built_in">swap</span>(D&amp; q) {</span><br><span class="line">  <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;</span><br><span class="line">  <span class="hljs-comment">// if(queue_.empty()) {</span></span><br><span class="line">  <span class="hljs-comment">//     cond_.wait(lock);</span></span><br><span class="line">  <span class="hljs-comment">// }</span></span><br><span class="line">  q.<span class="hljs-built_in">swap</span>(queue_);  <span class="hljs-comment">//交换两个队列的 内容</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>





<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li>管程：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/99054391">https://zhuanlan.zhihu.com/p/99054391</a></li>
</ul>
</body></html>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2021-11-24T07:25:09.000Z">2021-11-24</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    23 分钟 读完 (大约 3394 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-medium">
            
                <a class="has-link-black-ter" href="/2021/11/24/C-C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/">C++/C语言学习</a>
            
        </h1>
        <div class="content">
            <html><head></head><body><span id="more"></span>

<h2 id="Effective-c"><a href="#Effective-c" class="headerlink" title="Effective c++"></a>Effective c++</h2><h3 id="item1-把c-看成语言的集合"><a href="#item1-把c-看成语言的集合" class="headerlink" title="item1 把c++看成语言的集合"></a>item1 把c++看成语言的集合</h3><p>C++可以看成由几个模块组成：</p>
<ul>
<li>C：C++是以C为基础的，指针、数组、数据类型等都是来自于C</li>
<li>OOC（Object-Oriented C++）：类、继承、多态、虚函数等</li>
<li>Template：泛型模块</li>
<li>STL</li>
</ul>
<p>这样区分的目的是：不同的模块有不同的编程策略</p>
<ul>
<li>C模块中，一般用值传递</li>
<li>OOC，常量引用传递</li>
<li>STL，也是使用值传递</li>
</ul>
<h3 id="item2-用const、enum、inline代替-define"><a href="#item2-用const、enum、inline代替-define" class="headerlink" title="item2 用const、enum、inline代替#define"></a>item2 用const、enum、inline代替#define</h3><p>尽量以编译器代替预处理器</p>
<p>方便在编译出错的时候找到错误位置，因为编译器对变量报错是根据符号表来的，宏至少简单的文本替换，出错的时候不容易定位。</p>
<ul>
<li>用const用来声明数值常量、常量指针、类中的常量需要加上static，从而保证不会产生多个拷贝</li>
<li>enum hack：enum的行为像#define，比如不能获得地址，不会引来非必要的内存分配</li>
<li>使用inline代替宏：对于简单的语句封装成函数不划算，但是用宏可能会带来一些不可预料的错误，尽量写templet inline函数。</li>
</ul>
<h3 id="item3-多用const"><a href="#item3-多用const" class="headerlink" title="item3 多用const"></a>item3 多用const</h3><h4 id="const的使用范围"><a href="#const的使用范围" class="headerlink" title="const的使用范围"></a>const的使用范围</h4><ul>
<li>可以在class外部修饰global或namesspace作用域中的常量</li>
<li>可以修饰被声明为static的对象</li>
<li>也可以修饰class内部的static和non-static成员变量</li>
<li>指针自身，指针所指也可以是const</li>
</ul>
<h4 id="const的语法规则"><a href="#const的语法规则" class="headerlink" title="const的语法规则"></a>const的语法规则</h4><ul>
<li><code>const int* ptr</code>被指的是常量，也就是指向的内存不能修改</li>
<li><code>int* const ptr</code>指针本身是常量，指针指向的位置不能修改</li>
<li><code>const int* ptr</code>和<code>int const* ptr</code>，意义相同</li>
</ul>
<h4 id="STL迭代器的const"><a href="#STL迭代器的const" class="headerlink" title="STL迭代器的const"></a>STL迭代器的const</h4><ul>
<li>对于STL的迭代器，如果希望迭代器所指的东西不可变动，需要使用的是const_iterator,如<code>std::vector&lt;int&gt;::const_iterator const_itr = vec.begin()</code></li>
<li>如果迭代器本身不可变动，即不可指向别的地方，直接用const修饰即可</li>
</ul>
<h4 id="const在声明函数使用"><a href="#const在声明函数使用" class="headerlink" title="const在声明函数使用"></a>const在声明函数使用</h4><p>const可以修饰函数的返回值、函数参数、函数自身</p>
<p><code>const Rational operator* (const Rational&amp; lhs, const Rational&amp; rhs);</code></p>
<h4 id="const成员函数"><a href="#const成员函数" class="headerlink" title="const成员函数"></a>const成员函数</h4><p>指明该函数不会修改类的任何成员数据的值</p>
<h4 id="bitwise-constness和logical-constness"><a href="#bitwise-constness和logical-constness" class="headerlink" title="bitwise constness和logical constness"></a>bitwise constness和logical constness</h4><figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">class</span> <span class="title class_">BigArray</span> {</span><br><span class="line">    vector&lt;<span class="hljs-type">int</span>&gt; v; </span><br><span class="line">    <span class="hljs-type">int</span> accessCounter;</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getItem</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> <span class="hljs-type">const</span> </span>{ </span><br><span class="line">        accessCounter++;</span><br><span class="line">        <span class="hljs-keyword">return</span> v[index];</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>这个是编译不过的。我们希望的是getItem不会修改核心成员，而不考虑非核心成员，是logical constness。</p>
<p>编译器只认bitwise constness，为了解决这个问题，用mutable修饰accessCounter：<code>mutable int accessCounter;</code>。</p>
<h4 id="const和non-const成员函数的重复问题"><a href="#const和non-const成员函数的重复问题" class="headerlink" title="const和non-const成员函数的重复问题"></a>const和non-const成员函数的重复问题</h4><p>为了避免代码重复，使用non-const函数调用const函数。</p>
<h4 id="关于const约束的变量"><a href="#关于const约束的变量" class="headerlink" title="关于const约束的变量"></a>关于const约束的变量</h4><blockquote>
<p>从变量的名称开始，顺时针移动到下一个指针或者类型，直到表达式结束</p>
<p>或者是从右到左的语法解码，后面的修饰前面的</p>
</blockquote>
<p><img src="/2021/11/24/C-C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/image-20211124152818134.png" alt="image-20211124152818134"></p>
<p><img src="/2021/11/24/C-C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/image-20211124152837816.png" alt="image-20211124152837816"></p>
<p><code>*</code>读作<code>pointer to</code></p>
<ul>
<li><code>int const *p</code>：p是一个指针，指向一个const int，也就是说p本身指向的位置是可以修改的，但是指向的内存不能修改</li>
<li><code>int * const p</code>：p是一个const指针，指向int，就是说这个指针指向的位置不能修改，但是允许修改存储在地址的值</li>
<li><code>const int* cont p</code>：p是一个const 指针，指向一个const int。p既不能修改指向的位置，也不能修改里面的值</li>
</ul>
<p><img src="/2021/11/24/C-C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/image-20211124153447661.png" alt="image-20211124153447661"></p>
<h3 id="item-4确定对象被使用之前已经被初始化"><a href="#item-4确定对象被使用之前已经被初始化" class="headerlink" title="item 4确定对象被使用之前已经被初始化"></a>item 4确定对象被使用之前已经被初始化</h3><h4 id="永远在对象使用之前初始化"><a href="#永远在对象使用之前初始化" class="headerlink" title="永远在对象使用之前初始化"></a>永远在对象使用之前初始化</h4><p>对于基本数据类型，手工完成。对于类，写构造函数，使得对象的每一个成员都被初始化。</p>
<p>主要：赋值和初始化不同</p>
<h4 id="赋值与初始化"><a href="#赋值与初始化" class="headerlink" title="赋值与初始化"></a>赋值与初始化</h4><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><h3 id="虚函数"><a href="#虚函数" class="headerlink" title="虚函数"></a>虚函数</h3><p><a target="_blank" rel="noopener" href="http://www.noobyard.com/article/p-yfcqfueo-su.html">http://www.noobyard.com/article/p-yfcqfueo-su.html</a></p>
<p>为什么要有虚函数：为了实现动态绑定，即在运行时决定调用哪个函数。举个例子：person为基类，派生出student 和 teacher子类，现在学校大门口有一个队列，存放了一系列person指针，每次pop，通过ptr调用函数“出校”，区别是学生需要扫码，而教师不需要，但是编译器在编译程序的时候并不知道要调用哪个出校函数，这取决与运行时队列pop出来的到底是student还是teacher，也就是动态绑定的含义，通过对象的虚表指针调用，因此也可以理解为：虚函数是将函数绑定到特定类的一种手段。</p>
<p><img src="/2021/11/24/C-C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/image-20211228120744580.png" alt="image-20211228120744580"></p>
<h3 id="static关键字"><a href="#static关键字" class="headerlink" title="static关键字"></a>static关键字</h3><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/37439983">https://zhuanlan.zhihu.com/p/37439983</a></p>
<p>static出现在两种场景：面向对象和面向过程</p>
<ul>
<li>面向对象    <ul>
<li>静态成员变量</li>
<li>静态成员函数</li>
</ul>
</li>
<li>面向过程<ul>
<li>静态全局变量</li>
<li>静态局部变量</li>
<li>静态函数</li>
</ul>
</li>
</ul>
<h4 id="静态成员变量"><a href="#静态成员变量" class="headerlink" title="静态成员变量"></a>静态成员变量</h4><p>为什么要用static成员变量？每个对象有用相同的某项属性，就用static，比如student类，包含static int num 学生总人数，这是每个学生实例公用的。</p>
<p>static成员变量分配在数据段</p>
<p>跟全局对象相比：静态成员变量的命名空间在类中，不会与全局命名空间的命名产生冲突。static可以加入访问控制，比如private。</p>
<h4 id="静态成员函数"><a href="#静态成员函数" class="headerlink" title="静态成员函数"></a>静态成员函数</h4><p>为什么用static成员函数？类似的，static成员函数为类服务，而不是为对象服务，因此static成员函数也没有this指针，因此也仅可以访问静态成员函数和静态成员变量</p>
<p>静态成员函数不能访问非静态成员函数和变量</p>
<p>反过来非静态成员函数可以任意访问静态成员函数和变量</p>
<h4 id="静态全局变量"><a href="#静态全局变量" class="headerlink" title="静态全局变量"></a>静态全局变量</h4><h4 id="静态局部变量"><a href="#静态局部变量" class="headerlink" title="静态局部变量"></a>静态局部变量</h4><h4 id="静态函数"><a href="#静态函数" class="headerlink" title="静态函数"></a>静态函数</h4><p>static函数仅在声明他的函数中可见，不能被其他文件使用</p>
<p>为什么用？不同文件中可以定义相同名字的函数，不会发生冲突。</p>
<h3 id="RAII"><a href="#RAII" class="headerlink" title="RAII"></a>RAII</h3><h2 id="modern-C"><a href="#modern-C" class="headerlink" title="modern C++"></a>modern C++</h2><h3 id="完美转发std-forward"><a href="#完美转发std-forward" class="headerlink" title="完美转发std::forward"></a>完美转发std::forward</h3><h3 id="RAII和智能指针"><a href="#RAII和智能指针" class="headerlink" title="RAII和智能指针"></a>RAII和智能指针</h3><h4 id="RAII-1"><a href="#RAII-1" class="headerlink" title="RAII"></a>RAII</h4><p>RAII是c++特有的资源管理方式。把依赖栈和析构函数，对所有资源进行管理（包括堆内存，下面有一个例子）。栈上的指针在释放的时候会调用析构函数，在析构函数里释放堆内存。</p>
<p>例子：</p>
<p>create_shape在堆上new了对象，返回对象的指针，如何让这块内存不会泄露？</p>
<p>把这个函数的返回值（对象的指针），包裹到一个局部对象中，该局部对象的析构函数中delete掉这个指针。</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-keyword">class</span> <span class="title class_">shape_wrapper</span> {</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">shape_wrapper</span><span class="hljs-params">(</span></span></span><br><span class="line"><span class="hljs-params"><span class="hljs-function">    shape* ptr = <span class="hljs-literal">nullptr</span>)</span></span></span><br><span class="line"><span class="hljs-function">    : ptr_(ptr) {</span>}</span><br><span class="line">  ~<span class="hljs-built_in">shape_wrapper</span>()</span><br><span class="line">  {</span><br><span class="line">    <span class="hljs-keyword">delete</span> ptr_;</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-function">shape* <span class="hljs-title">get</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> ptr_; }</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">  shape* ptr_;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>{</span><br><span class="line">  …</span><br><span class="line">  <span class="hljs-function">shape_wrapper <span class="hljs-title">ptr_wrapper</span><span class="hljs-params">(</span></span></span><br><span class="line"><span class="hljs-params"><span class="hljs-function">    create_shape(…))</span></span>;<span class="hljs-comment">//这里的shape_wrapper是一个局部栈对象，退出foo函数时会自动析构wrapper对象，而wrapper的析构函数会delete传入的shape指针。</span></span><br><span class="line">  …</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>经典RAII的例子：</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">std::mutex mtx;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">some_func</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>{</span><br><span class="line">  <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">guard</span><span class="hljs-params">(mtx)</span></span>;</span><br><span class="line">  <span class="hljs-comment">// 做需要同步的工作</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>而不写成：</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">std::mutex mtx;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">some_func</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>{</span><br><span class="line">  mtx.<span class="hljs-built_in">lock</span>();</span><br><span class="line">  <span class="hljs-comment">// 做需要同步的工作……</span></span><br><span class="line">  <span class="hljs-comment">// 如果发生异常或提前返回，</span></span><br><span class="line">  <span class="hljs-comment">// 下面这句不会自动执行。</span></span><br><span class="line">  mtx.<span class="hljs-built_in">unlock</span>();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h4 id="智能指针实现"><a href="#智能指针实现" class="headerlink" title="智能指针实现"></a>智能指针实现</h4><p>从刚刚shape_wrapper类改造成模板类，就是一个简单的智能指针：</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-keyword">class</span> <span class="title class_">smart_ptr</span> {</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">smart_ptr</span><span class="hljs-params">(T* ptr = <span class="hljs-literal">nullptr</span>)</span></span></span><br><span class="line"><span class="hljs-function">    : ptr_(ptr) {</span>}</span><br><span class="line">  ~<span class="hljs-built_in">smart_ptr</span>()</span><br><span class="line">  {</span><br><span class="line">    <span class="hljs-keyword">delete</span> ptr_;</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-function">T* <span class="hljs-title">get</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> ptr_; }</span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">  T* ptr_;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>但是这样跟指针的行为还有点差异，比如不能用*解引用，不能用-&gt;访问成员，不能用在bool表达式里，因此添加：</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-keyword">class</span> <span class="title class_">smart_ptr</span> {</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">  …</span><br><span class="line">  T&amp; <span class="hljs-keyword">operator</span>*() <span class="hljs-type">const</span> { <span class="hljs-keyword">return</span> *ptr_; }</span><br><span class="line">  T* <span class="hljs-keyword">operator</span>-&gt;() <span class="hljs-type">const</span> { <span class="hljs-keyword">return</span> ptr_; }</span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">bool</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{ <span class="hljs-keyword">return</span> ptr_; }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>然后对于拷贝构造呢？<code>smart_ptr&lt;shape&gt; ptr2(ptr1)</code>应该怎么表现？</p>
<p>转移指针所有权，这就是auto_ptr的实现了，现在已经废除，因为这样设计的smart_ptr一旦进行了赋值或拷贝，就不在拥有这个对象了。</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-keyword">class</span> <span class="title class_">smart_ptr</span> {</span><br><span class="line">  …</span><br><span class="line">  <span class="hljs-built_in">smart_ptr</span>(smart_ptr&amp; other) <span class="hljs-comment">//拷贝构造</span></span><br><span class="line">  {</span><br><span class="line">    ptr_ = other.<span class="hljs-built_in">release</span>();</span><br><span class="line">  }</span><br><span class="line">  smart_ptr&amp; <span class="hljs-keyword">operator</span>=(smart_ptr&amp; rhs) <span class="hljs-comment">//赋值</span></span><br><span class="line">  {</span><br><span class="line">    <span class="hljs-built_in">smart_ptr</span>(rhs).<span class="hljs-built_in">swap</span>(*<span class="hljs-keyword">this</span>);</span><br><span class="line">   	<span class="hljs-comment">//首先rhs把自己维护的指针交给给临时对象smart_ptr(rhs)，然后这个临时对象维护的指针和this对象维护的指针交换一下，this对象就拿到rhs维护的指针了，临时对象smart_ptr拿到this之前维护的指针，它会随着临时对象smart_ptr销毁而被delete。</span></span><br><span class="line">    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;</span><br><span class="line">  }</span><br><span class="line">  …</span><br><span class="line">  <span class="hljs-function">T* <span class="hljs-title">release</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function">  </span>{</span><br><span class="line">    T* ptr = ptr_;</span><br><span class="line">    ptr_ = <span class="hljs-literal">nullptr</span>;</span><br><span class="line">    <span class="hljs-keyword">return</span> ptr;</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(smart_ptr&amp; rhs)</span></span></span><br><span class="line"><span class="hljs-function">  </span>{</span><br><span class="line">    <span class="hljs-keyword">using</span> std::swap;</span><br><span class="line">    <span class="hljs-built_in">swap</span>(ptr_, rhs.ptr_);</span><br><span class="line">  }</span><br><span class="line">  …</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>再改下，就是unique_ptr：</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-keyword">class</span> <span class="title class_">smart_ptr</span> {</span><br><span class="line">  …</span><br><span class="line">  <span class="hljs-built_in">smart_ptr</span>(smart_ptr&amp;&amp; other) <span class="hljs-comment">//改成移动构造函数</span></span><br><span class="line">  {</span><br><span class="line">    ptr_ = other.<span class="hljs-built_in">release</span>();</span><br><span class="line">  }</span><br><span class="line">  smart_ptr&amp; <span class="hljs-keyword">operator</span>=(smart_ptr rhs)</span><br><span class="line">  {</span><br><span class="line">    rhs.<span class="hljs-built_in">swap</span>(*<span class="hljs-keyword">this</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;</span><br><span class="line">  }</span><br><span class="line">  …</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>现在添加引用计数，形成shared_ptr:</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;utility&gt;</span>  <span class="hljs-comment">// std::swap</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">class</span> <span class="title class_">shared_count</span> {</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">  <span class="hljs-built_in">shared_count</span>() <span class="hljs-keyword">noexcept</span></span><br><span class="line">    : <span class="hljs-built_in">count_</span>(<span class="hljs-number">1</span>) {}</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">add_count</span><span class="hljs-params">()</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function">  </span>{</span><br><span class="line">    ++count_;</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">long</span> <span class="hljs-title">reduce_count</span><span class="hljs-params">()</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function">  </span>{</span><br><span class="line">    <span class="hljs-keyword">return</span> --count_;</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">long</span> <span class="hljs-title">get_count</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function">  </span>{</span><br><span class="line">    <span class="hljs-keyword">return</span> count_;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">  <span class="hljs-type">long</span> count_;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-keyword">class</span> <span class="title class_">smart_ptr</span> {</span><br><span class="line"><span class="hljs-keyword">public</span>:</span><br><span class="line">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> U&gt;</span><br><span class="line">  <span class="hljs-keyword">friend</span> <span class="hljs-keyword">class</span> <span class="title class_">smart_ptr</span>;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">smart_ptr</span><span class="hljs-params">(T* ptr = <span class="hljs-literal">nullptr</span>)</span></span></span><br><span class="line"><span class="hljs-function">    : ptr_(ptr)</span></span><br><span class="line"><span class="hljs-function">  {</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (ptr) {</span><br><span class="line">      shared_count_ =</span><br><span class="line">        <span class="hljs-keyword">new</span> <span class="hljs-built_in">shared_count</span>();</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  ~<span class="hljs-built_in">smart_ptr</span>()</span><br><span class="line">  {</span><br><span class="line">    <span class="hljs-keyword">if</span> (ptr_ &amp;&amp;</span><br><span class="line">      !shared_count_</span><br><span class="line">         -&gt;<span class="hljs-built_in">reduce_count</span>()) {</span><br><span class="line">      <span class="hljs-keyword">delete</span> ptr_;</span><br><span class="line">      <span class="hljs-keyword">delete</span> shared_count_;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="hljs-built_in">smart_ptr</span>(<span class="hljs-type">const</span> smart_ptr&amp; other)</span><br><span class="line">  {</span><br><span class="line">    ptr_ = other.ptr_;</span><br><span class="line">    <span class="hljs-keyword">if</span> (ptr_) {</span><br><span class="line">      other.shared_count_</span><br><span class="line">        -&gt;<span class="hljs-built_in">add_count</span>();</span><br><span class="line">      shared_count_ =</span><br><span class="line">        other.shared_count_;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> U&gt;</span><br><span class="line">  <span class="hljs-built_in">smart_ptr</span>(<span class="hljs-type">const</span> smart_ptr&lt;U&gt;&amp; other) <span class="hljs-keyword">noexcept</span></span><br><span class="line">  {</span><br><span class="line">    ptr_ = other.ptr_;</span><br><span class="line">    <span class="hljs-keyword">if</span> (ptr_) {</span><br><span class="line">      other.shared_count_-&gt;<span class="hljs-built_in">add_count</span>();</span><br><span class="line">      shared_count_ = other.shared_count_;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> U&gt;</span><br><span class="line">  <span class="hljs-built_in">smart_ptr</span>(smart_ptr&lt;U&gt;&amp;&amp; other) <span class="hljs-keyword">noexcept</span></span><br><span class="line">  {</span><br><span class="line">    ptr_ = other.ptr_;</span><br><span class="line">    <span class="hljs-keyword">if</span> (ptr_) {</span><br><span class="line">      shared_count_ =</span><br><span class="line">        other.shared_count_;</span><br><span class="line">      other.ptr_ = <span class="hljs-literal">nullptr</span>;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> U&gt;</span><br><span class="line">  <span class="hljs-built_in">smart_ptr</span>(<span class="hljs-type">const</span> smart_ptr&lt;U&gt;&amp; other,</span><br><span class="line">            T* ptr) <span class="hljs-keyword">noexcept</span></span><br><span class="line">  {</span><br><span class="line">    ptr_ = ptr;</span><br><span class="line">    <span class="hljs-keyword">if</span> (ptr_) {</span><br><span class="line">      other.shared_count_</span><br><span class="line">        -&gt;<span class="hljs-built_in">add_count</span>();</span><br><span class="line">      shared_count_ =</span><br><span class="line">        other.shared_count_;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  smart_ptr&amp;</span><br><span class="line">  <span class="hljs-keyword">operator</span>=(smart_ptr rhs) <span class="hljs-keyword">noexcept</span></span><br><span class="line">  {</span><br><span class="line">    rhs.<span class="hljs-built_in">swap</span>(*<span class="hljs-keyword">this</span>);</span><br><span class="line">    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="hljs-function">T* <span class="hljs-title">get</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function">  </span>{</span><br><span class="line">    <span class="hljs-keyword">return</span> ptr_;</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">long</span> <span class="hljs-title">use_count</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function">  </span>{</span><br><span class="line">    <span class="hljs-keyword">if</span> (ptr_) {</span><br><span class="line">      <span class="hljs-keyword">return</span> shared_count_</span><br><span class="line">        -&gt;<span class="hljs-built_in">get_count</span>();</span><br><span class="line">    } <span class="hljs-keyword">else</span> {</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(smart_ptr&amp; rhs)</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function">  </span>{</span><br><span class="line">    <span class="hljs-keyword">using</span> std::swap;</span><br><span class="line">    <span class="hljs-built_in">swap</span>(ptr_, rhs.ptr_);</span><br><span class="line">    <span class="hljs-built_in">swap</span>(shared_count_,</span><br><span class="line">         rhs.shared_count_);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  T&amp; <span class="hljs-keyword">operator</span>*() <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span></span><br><span class="line">  {</span><br><span class="line">    <span class="hljs-keyword">return</span> *ptr_;</span><br><span class="line">  }</span><br><span class="line">  T* <span class="hljs-keyword">operator</span>-&gt;() <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span></span><br><span class="line">  {</span><br><span class="line">    <span class="hljs-keyword">return</span> ptr_;</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">bool</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function">  </span>{</span><br><span class="line">    <span class="hljs-keyword">return</span> ptr_;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">private</span>:</span><br><span class="line">  T* ptr_;</span><br><span class="line">  shared_count* shared_count_;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="line"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(smart_ptr&lt;T&gt;&amp; lhs,</span></span></span><br><span class="line"><span class="hljs-params"><span class="hljs-function">          smart_ptr&lt;T&gt;&amp; rhs)</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function"></span>{</span><br><span class="line">  lhs.<span class="hljs-built_in">swap</span>(rhs);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> U&gt;</span><br><span class="line"><span class="hljs-function">smart_ptr&lt;T&gt; <span class="hljs-title">static_pointer_cast</span><span class="hljs-params">(</span></span></span><br><span class="line"><span class="hljs-params"><span class="hljs-function">  <span class="hljs-type">const</span> smart_ptr&lt;U&gt;&amp; other)</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function"></span>{</span><br><span class="line">  T* ptr = <span class="hljs-built_in">static_cast</span>&lt;T*&gt;(other.<span class="hljs-built_in">get</span>());</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-built_in">smart_ptr</span>&lt;T&gt;(other, ptr);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> U&gt;</span><br><span class="line"><span class="hljs-function">smart_ptr&lt;T&gt; <span class="hljs-title">reinterpret_pointer_cast</span><span class="hljs-params">(</span></span></span><br><span class="line"><span class="hljs-params"><span class="hljs-function">  <span class="hljs-type">const</span> smart_ptr&lt;U&gt;&amp; other)</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function"></span>{</span><br><span class="line">  T* ptr = <span class="hljs-built_in">reinterpret_cast</span>&lt;T*&gt;(other.<span class="hljs-built_in">get</span>());</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-built_in">smart_ptr</span>&lt;T&gt;(other, ptr);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> U&gt;</span><br><span class="line"><span class="hljs-function">smart_ptr&lt;T&gt; <span class="hljs-title">const_pointer_cast</span><span class="hljs-params">(</span></span></span><br><span class="line"><span class="hljs-params"><span class="hljs-function">  <span class="hljs-type">const</span> smart_ptr&lt;U&gt;&amp; other)</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function"></span>{</span><br><span class="line">  T* ptr = <span class="hljs-built_in">const_cast</span>&lt;T*&gt;(other.<span class="hljs-built_in">get</span>());</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-built_in">smart_ptr</span>&lt;T&gt;(other, ptr);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> U&gt;</span><br><span class="line"><span class="hljs-function">smart_ptr&lt;T&gt; <span class="hljs-title">dynamic_pointer_cast</span><span class="hljs-params">(</span></span></span><br><span class="line"><span class="hljs-params"><span class="hljs-function">  <span class="hljs-type">const</span> smart_ptr&lt;U&gt;&amp; other)</span> <span class="hljs-keyword">noexcept</span></span></span><br><span class="line"><span class="hljs-function"></span>{</span><br><span class="line">  T* ptr = <span class="hljs-built_in">dynamic_cast</span>&lt;T*&gt;(other.<span class="hljs-built_in">get</span>());</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-built_in">smart_ptr</span>&lt;T&gt;(other, ptr);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<p><img src="/2021/11/24/C-C%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/image-20220505200625623.png" alt="image-20220505200625623"></p>
<h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><ul>
<li>shared_ptr怎么实现的<ul>
<li>见上</li>
</ul>
</li>
<li>shared_ptr是否线程安全<ul>
<li>分场景，同一个shared_ptr被多个线程写，不是线程安全的。多线程读是安全的，根据同一个智能指针创建新的智能指针（增加引用计数）也是安全的。（不懂）</li>
</ul>
</li>
</ul>
<h3 id="atomic"><a href="#atomic" class="headerlink" title="atomic"></a>atomic</h3><p>c++11引入atomic模板，可以应用到任何类型上，但实现不一样</p>
<p>对于整型量和指针等简单类型，通常结果是无锁的原子对象；</p>
<p>而对于另外一些类型，比如 64 位机器上大小不是 1、2、4、8（有些平台 / 编译器也支持对更大的数据进行无锁原子操作）的类型，编译器会自动为这些原子对象的操作加上锁。</p>
<p>编译器提供了一个原子对象的成员函数 is_lock_free，可以检查这个原子对象上的操作是否是无锁的。</p>
<h4 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h4><ul>
<li>atomic怎么实现的</li>
<li></li>
</ul>
<h3 id="std-function"><a href="#std-function" class="headerlink" title="std::function"></a>std::function</h3><p>std::function是一个可调用对象的包装器</p>
<p>可调用对象可以是：函数指针、一个有operator成员函数的类对象、可以被转换成函数指针的类对象、类成员函数指针。</p>
<p>比如：</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// 普通函数</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span></span>{<span class="hljs-keyword">return</span> a+b;} </span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// lambda表达式</span></span><br><span class="line"><span class="hljs-keyword">auto</span> mod = [](<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b){ <span class="hljs-keyword">return</span> a % b;}</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 函数对象类</span></span><br><span class="line"><span class="hljs-keyword">struct</span> <span class="title class_">divide</span>{</span><br><span class="line">    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">int</span> denominator, <span class="hljs-type">int</span> divisor)</span></span>{</span><br><span class="line">        <span class="hljs-keyword">return</span> denominator/divisor;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>虽然他们类型不同，但是调用形式是相同的，调用形式就是参数和返回值，也就是function初始化时候的模板参数，于是就可以这样写：</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">std::function&lt;<span class="hljs-type">int</span>(<span class="hljs-type">int</span> ,<span class="hljs-type">int</span>)&gt;  a = add; </span><br><span class="line">std::function&lt;<span class="hljs-type">int</span>(<span class="hljs-type">int</span> ,<span class="hljs-type">int</span>)&gt;  b = mod ; </span><br><span class="line">std::function&lt;<span class="hljs-type">int</span>(<span class="hljs-type">int</span> ,<span class="hljs-type">int</span>)&gt;  c = <span class="hljs-built_in">divide</span>(); </span><br></pre></td></tr></tbody></table></figure>

<p>用来取代函数指针，特别适合作为回调函数使用。</p>
<h3 id="std-bind"><a href="#std-bind" class="headerlink" title="std::bind"></a>std::bind</h3><p>把可调用实体的某些传入参数，绑定到已有的变量，返回一个std::function</p>
<figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">struct</span> <span class="title class_">Foo</span> {</span><br><span class="line">    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print_sum</span><span class="hljs-params">(<span class="hljs-type">int</span> n1, <span class="hljs-type">int</span> n2)</span></span></span><br><span class="line"><span class="hljs-function">    </span>{</span><br><span class="line">        std::cout &lt;&lt; n1+n2 &lt;&lt; <span class="hljs-string">'\n'</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="hljs-type">int</span> data = <span class="hljs-number">10</span>;</span><br><span class="line">};</span><br><span class="line"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span></span><br><span class="line"><span class="hljs-function"></span>{</span><br><span class="line">    Foo foo;</span><br><span class="line">    <span class="hljs-keyword">auto</span> f = std::<span class="hljs-built_in">bind</span>(&amp;Foo::print_sum, &amp;foo, <span class="hljs-number">95</span>, std::placeholders::_1);</span><br><span class="line">    <span class="hljs-built_in">f</span>(<span class="hljs-number">5</span>); <span class="hljs-comment">// 100</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>通过std::bind和std::function配合使用，所有的可调用对象均有了统一的操作方法。</p>
<h3 id="auto和decltype"><a href="#auto和decltype" class="headerlink" title="auto和decltype"></a>auto和decltype</h3><p>auto 的推导用在初始化时候，但目前的c++标准不允许类成员变量使用auto。</p>
<p>auto总是推导出值类型，不可能是引用。</p>
<p>auto可以加上const、volatile、*、&amp; 这样的类型修饰符，得到新的类型。</p>
<h2 id="STL"><a href="#STL" class="headerlink" title="STL"></a>STL</h2><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/difference-between-const-int-const-int-const-and-int-const/">const</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/37439983">static</a></li>
</ul>
</body></html>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2021-11-19T07:54:41.000Z">2021-11-19</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    几秒 读完 (大约 79 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-medium">
            
                <a class="has-link-black-ter" href="/2021/11/19/fail2ban%E9%85%8D%E7%BD%AE/">fail2ban配置</a>
            
        </h1>
        <div class="content">
            <html><head></head><body><p>记录一次服务器被黑的经历，，</p></body></html>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2021/11/19/fail2ban%E9%85%8D%E7%BD%AE/#more">阅读更多</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2021-11-14T06:20:13.000Z">2021-11-14</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 读完 (大约 1222 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-medium">
            
                <a class="has-link-black-ter" href="/2021/11/14/CSAPP-Lab3-Attack/">CSAPP Lab3-Attack</a>
            
        </h1>
        <div class="content">
            <html><head></head><body><p>本文是CASPP Attack实验的学习笔记。</p></body></html>
        </div>
        
        
        <div class="level is-mobile">
            <div class="level-start">
                <div class="level-item">
                <a class="button is-size-7 is-light" href="/2021/11/14/CSAPP-Lab3-Attack/#more">阅读更多</a>
                </div>
            </div>
        </div>
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/page/2/">上一页</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/page/4/">下一页</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/2/">2</a></li>
            
            <li><a class="pagination-link is-current" href="/page/3/">3</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/4/">4</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/11/">11</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/avatar.png" alt="JUSTME">
                    
                    
                    <p class="is-size-4 is-block">
                        JUSTME
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        UESTC
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>四川 成都</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        102
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        19
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        23
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/cccc1412" target="_blank">
                关注我</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/cccc1412">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/UNIX/">
            <span class="level-start">
                <span class="level-item">UNIX</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/kernel/">
            <span class="level-start">
                <span class="level-item">kernel</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/web%E5%BC%80%E5%8F%91/">
            <span class="level-start">
                <span class="level-item">web开发</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
            <span class="level-start">
                <span class="level-item">数据结构</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
            <span class="level-start">
                <span class="level-item">机器学习</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
            <span class="level-start">
                <span class="level-item">深度学习</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">
            <span class="level-start">
                <span class="level-item">环境配置</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E7%AE%97%E6%B3%95/">
            <span class="level-start">
                <span class="level-item">算法</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E7%AE%97%E6%B3%95%E9%A2%98/">
            <span class="level-start">
                <span class="level-item">算法题</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">
            <span class="level-start">
                <span class="level-item">编程语言</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/python/">
            <span class="level-start">
                <span class="level-item">python</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/rust/">
            <span class="level-start">
                <span class="level-item">rust</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/%E7%BD%91%E7%BB%9C/">
            <span class="level-start">
                <span class="level-item">网络</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/">
            <span class="level-start">
                <span class="level-item">课程学习</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">9</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
            <span class="level-start">
                <span class="level-item">操作系统</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">7</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/">
            <span class="level-start">
                <span class="level-item">编译原理</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">
            <span class="level-start">
                <span class="level-item">计算机体系结构</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/%E8%BF%90%E7%AD%B9%E5%AD%A6/">
            <span class="level-start">
                <span class="level-item">运筹学</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0/">
            <span class="level-start">
                <span class="level-item">项目学习</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/UNIX/" style="font-size: 18.33px;">UNIX</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/hexo/" style="font-size: 11.67px;">hexo</a> <a href="/tags/kernel/" style="font-size: 16.67px;">kernel</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/matlab/" style="font-size: 11.67px;">matlab</a> <a href="/tags/python/" style="font-size: 11.67px;">python</a> <a href="/tags/rust/" style="font-size: 10px;">rust</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/windows/" style="font-size: 11.67px;">windows</a> <a href="/tags/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/" style="font-size: 10px;">体系结构</a> <a href="/tags/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/" style="font-size: 10px;">开源项目</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 20px;">操作系统</a> <a href="/tags/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/" style="font-size: 11.67px;">数学建模</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 11.67px;">数据结构</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 13.33px;">机器学习</a> <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">深度学习</a> <a href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" style="font-size: 10px;">环境配置</a> <a href="/tags/%E7%9F%A9%E9%98%B5%E5%88%86%E6%9E%90/" style="font-size: 10px;">矩阵分析</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 11.67px;">算法</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 10px;">编译原理</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">网络</a> <a href="/tags/%E8%BF%90%E7%AD%B9%E5%AD%A6/" style="font-size: 15px;">运筹学</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2023-05-08T07:45:02.000Z">2023-05-08</time></div>
                    <a href="/2023/05/08/storage-network-paper-read/" class="has-link-black-ter is-size-6">storage-network paper read</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2023-05-08T06:58:07.000Z">2023-05-08</time></div>
                    <a href="/2023/05/08/DPDK-f-stack/" class="has-link-black-ter is-size-6">DPDK &amp; f-stack</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2023-03-20T07:10:27.000Z">2023-03-20</time></div>
                    <a href="/2023/03/20/%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93/" class="has-link-black-ter is-size-6">内核开发总结</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2023-02-27T04:54:54.000Z">2023-02-27</time></div>
                    <a href="/2023/02/27/oceanbase-2022-%E6%AF%94%E8%B5%9B%E5%A4%8D%E7%9B%98/" class="has-link-black-ter is-size-6">oceanbase 2022 比赛复盘</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2022-07-19T05:54:02.000Z">2022-07-19</time></div>
                    <a href="/2022/07/19/%E5%AF%B9%E8%B1%A1%E6%B1%A0%E4%B8%8Eoperator%E9%87%8D%E8%BD%BD/" class="has-link-black-ter is-size-6">对象池与operator重载</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2023/05/">
                <span class="level-start">
                    <span class="level-item">五月 2023</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2023/03/">
                <span class="level-start">
                    <span class="level-item">三月 2023</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2023/02/">
                <span class="level-start">
                    <span class="level-item">二月 2023</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/07/">
                <span class="level-start">
                    <span class="level-item">七月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/05/">
                <span class="level-start">
                    <span class="level-item">五月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/04/">
                <span class="level-start">
                    <span class="level-item">四月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/03/">
                <span class="level-start">
                    <span class="level-item">三月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/02/">
                <span class="level-start">
                    <span class="level-item">二月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/01/">
                <span class="level-start">
                    <span class="level-item">一月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/10/">
                <span class="level-start">
                    <span class="level-item">十月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/09/">
                <span class="level-start">
                    <span class="level-item">九月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/08/">
                <span class="level-start">
                    <span class="level-item">八月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/07/">
                <span class="level-start">
                    <span class="level-item">七月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/04/">
                <span class="level-start">
                    <span class="level-item">四月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/03/">
                <span class="level-start">
                    <span class="level-item">三月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/01/">
                <span class="level-start">
                    <span class="level-item">一月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/10/">
                <span class="level-start">
                    <span class="level-item">十月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/07/">
                <span class="level-start">
                    <span class="level-item">七月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/06/">
                <span class="level-start">
                    <span class="level-item">六月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UNIX/">
                        <span class="tag">UNIX</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/kernel/">
                        <span class="tag">kernel</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/matlab/">
                        <span class="tag">matlab</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rust/">
                        <span class="tag">rust</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/web/">
                        <span class="tag">web</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/windows/">
                        <span class="tag">windows</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">
                        <span class="tag">体系结构</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/">
                        <span class="tag">开源项目</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
                        <span class="tag">操作系统</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/">
                        <span class="tag">数学建模</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
                        <span class="tag">机器学习</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
                        <span class="tag">深度学习</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">
                        <span class="tag">环境配置</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%9F%A9%E9%98%B5%E5%88%86%E6%9E%90/">
                        <span class="tag">矩阵分析</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/">
                        <span class="tag">算法</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/">
                        <span class="tag">编译原理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%BD%91%E7%BB%9C/">
                        <span class="tag">网络</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E8%BF%90%E7%AD%B9%E5%AD%A6/">
                        <span class="tag">运筹学</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2023-05-08T07:45:02.000Z">2023-05-08</time></div>
                    <a href="/2023/05/08/storage-network-paper-read/" class="has-link-black-ter is-size-6">storage-network paper read</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2023-05-08T06:58:07.000Z">2023-05-08</time></div>
                    <a href="/2023/05/08/DPDK-f-stack/" class="has-link-black-ter is-size-6">DPDK &amp; f-stack</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2023-03-20T07:10:27.000Z">2023-03-20</time></div>
                    <a href="/2023/03/20/%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93/" class="has-link-black-ter is-size-6">内核开发总结</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2023-02-27T04:54:54.000Z">2023-02-27</time></div>
                    <a href="/2023/02/27/oceanbase-2022-%E6%AF%94%E8%B5%9B%E5%A4%8D%E7%9B%98/" class="has-link-black-ter is-size-6">oceanbase 2022 比赛复盘</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2022-07-19T05:54:02.000Z">2022-07-19</time></div>
                    <a href="/2022/07/19/%E5%AF%B9%E8%B1%A1%E6%B1%A0%E4%B8%8Eoperator%E9%87%8D%E8%BD%BD/" class="has-link-black-ter is-size-6">对象池与operator重载</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2023/05/">
                <span class="level-start">
                    <span class="level-item">五月 2023</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2023/03/">
                <span class="level-start">
                    <span class="level-item">三月 2023</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2023/02/">
                <span class="level-start">
                    <span class="level-item">二月 2023</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/07/">
                <span class="level-start">
                    <span class="level-item">七月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/05/">
                <span class="level-start">
                    <span class="level-item">五月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/04/">
                <span class="level-start">
                    <span class="level-item">四月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/03/">
                <span class="level-start">
                    <span class="level-item">三月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/02/">
                <span class="level-start">
                    <span class="level-item">二月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2022/01/">
                <span class="level-start">
                    <span class="level-item">一月 2022</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/10/">
                <span class="level-start">
                    <span class="level-item">十月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/09/">
                <span class="level-start">
                    <span class="level-item">九月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/08/">
                <span class="level-start">
                    <span class="level-item">八月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/07/">
                <span class="level-start">
                    <span class="level-item">七月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/04/">
                <span class="level-start">
                    <span class="level-item">四月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/03/">
                <span class="level-start">
                    <span class="level-item">三月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2021/01/">
                <span class="level-start">
                    <span class="level-item">一月 2021</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/10/">
                <span class="level-start">
                    <span class="level-item">十月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/07/">
                <span class="level-start">
                    <span class="level-item">七月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/06/">
                <span class="level-start">
                    <span class="level-item">六月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UNIX/">
                        <span class="tag">UNIX</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/kernel/">
                        <span class="tag">kernel</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/matlab/">
                        <span class="tag">matlab</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rust/">
                        <span class="tag">rust</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/web/">
                        <span class="tag">web</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/windows/">
                        <span class="tag">windows</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">
                        <span class="tag">体系结构</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/">
                        <span class="tag">开源项目</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
                        <span class="tag">操作系统</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/">
                        <span class="tag">数学建模</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
                        <span class="tag">机器学习</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
                        <span class="tag">深度学习</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">
                        <span class="tag">环境配置</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%9F%A9%E9%98%B5%E5%88%86%E6%9E%90/">
                        <span class="tag">矩阵分析</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/">
                        <span class="tag">算法</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/">
                        <span class="tag">编译原理</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E7%BD%91%E7%BB%9C/">
                        <span class="tag">网络</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E8%BF%90%E7%AD%B9%E5%AD%A6/">
                        <span class="tag">运筹学</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="JUSTME" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2023 JUSTME&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>